default_stages: [pre-commit]

repos:
  - repo: local
    hooks:
      - id: python-compileall
        name: python -m compileall
        entry: python -m compileall custom_components/hexagon_light
        language: system
        pass_filenames: false

      - id: manifest-json-valid
        name: validate manifest.json
        entry: python -c 'import json; json.load(open("custom_components/hexagon_light/manifest.json", "r", encoding="utf-8"))'
        language: system
        pass_filenames: false

      - id: conventional-commit-msg
        name: conventional commit message
        entry: python scripts/check-commit-msg.py
        language: system
        stages: [commit-msg]

  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.9.10
    hooks:
      - id: ruff
        name: ruff (errors only)
        args: [--select, "F,E9", custom_components/hexagon_light]
